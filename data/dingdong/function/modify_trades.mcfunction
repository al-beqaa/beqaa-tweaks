data modify entity @s Offers.Recipes prepend value {buy:{id:"minecraft:emerald",Count:5b},sell:{id:"minecraft:dirt",Count:1b},maxUses:5,uses:0,priceMultiplier:0.05f,specialPrice:0,demand:0}
loot replace entity @s weapon.mainhand 2 loot dingdong:items/village_or_pillage_map
data modify entity @s Offers.Recipes[0].sell set from entity @s HandItems[0]
data modify entity @s Offers.Recipes prepend value {buy:{Count:1b,components: {"minecraft:item_name": {translate: "block.minecraft.ominous_banner"}, "minecraft:tooltip_display": {hidden_components: ["minecraft:banner_patterns"]}, "minecraft:rarity": "uncommon", "minecraft:banner_patterns": [{color: "cyan", pattern: "minecraft:rhombus"}, {color: "light_gray", pattern: "minecraft:stripe_bottom"}, {color: "gray", pattern: "minecraft:stripe_center"}, {color: "light_gray", pattern: "minecraft:border"}, {color: "black", pattern: "minecraft:stripe_middle"}, {color: "light_gray", pattern: "minecraft:half_horizontal"}, {color: "light_gray", pattern: "minecraft:circle"}, {color: "black", pattern: "minecraft:border"}]}, count: 1, id: "minecraft:white_banner"},sell:{id:"minecraft:emerald",Count:2b},maxUses:5,uses:0,priceMultiplier:0.05f,specialPrice:0,demand:0}
tag @s add dingdong.modified